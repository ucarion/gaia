#!/bin/bash

echo "Generating world image from NASA Blue Marble data ..."
convert assets/nasa_blue_marble/world.topo.bathy.200412.3x21600x10800.jpg \
    -gravity west -crop 50%x100%+0+0 -resize 10800 assets/west_hemisphere.jpg
convert assets/nasa_blue_marble/world.topo.bathy.200412.3x21600x10800.jpg \
    -gravity east -crop 50%x100%+0+0 -resize 10800 assets/east_hemisphere.jpg

echo "Generating elevation data from NOAA GLOBE data ..."
convert -monitor -depth 16 \
    \( -size 10800x4800 gray:assets/noaa_globe/a10g gray:assets/noaa_globe/b10g -evaluate addmodulus 500 -resize 1024 +append \) \
    \( -size 10800x6000 gray:assets/noaa_globe/e10g gray:assets/noaa_globe/f10g -evaluate addmodulus 500 -resize 1024 +append \) \
    \( -size 10800x6000 gray:assets/noaa_globe/i10g gray:assets/noaa_globe/j10g -evaluate addmodulus 500 -resize 1024 +append \) \
    \( -size 10800x4800 gray:assets/noaa_globe/m10g gray:assets/noaa_globe/n10g -evaluate addmodulus 500 -resize 1024 +append \) \
    -append \
    -resize 4097 \
    gray:assets/west_hemisphere_elevation.bin

convert -monitor -depth 16 \
    \( -size 10800x4800 gray:assets/noaa_globe/c10g gray:assets/noaa_globe/d10g -evaluate addmodulus 500 -resize 1024 +append \) \
    \( -size 10800x6000 gray:assets/noaa_globe/g10g gray:assets/noaa_globe/h10g -evaluate addmodulus 500 -resize 1024 +append \) \
    \( -size 10800x6000 gray:assets/noaa_globe/k10g gray:assets/noaa_globe/l10g -evaluate addmodulus 500 -resize 1024 +append \) \
    \( -size 10800x4800 gray:assets/noaa_globe/o10g gray:assets/noaa_globe/p10g -evaluate addmodulus 500 -resize 1024 +append \) \
    -append \
    -resize 4097 \
    gray:assets/east_hemisphere_elevation.bin
